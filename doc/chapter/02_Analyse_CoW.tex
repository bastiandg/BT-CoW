\chapter{Analyse Copy on Write}
\section{Sparse-Dateien}
Eine Sparse-Datei ist eine Datei die nicht vom Anfang bis zum Ende beschrieben ist. Sie enthält also Lücken. Um Speicherplatz zu sparen, werden diese Lücken bei Sparse-Dateien nicht auf den Datenträger geschrieben. Eine Sparse-Datei ist kein eigenes Imageformat sondern eine Optimierungsstrategie. \cite{sparse}
\section{qcow2}
qcow2 ist ein Imageformat welches im Rahmen des qemu Projekts entwickelt wurde. Es ist der Nachfolger des ebenfalls aus dem qemu Projekt stammenden Formats qcow. \cite{qcowmarkmc} \cite{qemuwiki}

\subsection{Vorteile}
\begin{itemize}
 \item einfache Einrichtung
\end{itemize}

\subsection{Nachteile}
\begin{itemize}
 \item ?
\end{itemize}

\section{vhd}
vhd ist von Conectix und Microsoft entwickelt worden. Die Spezifikation des Imageformats wurde von Microsoft im Zuge des ``Microsoft Open Specification Promise'' freigegeben. Seit der Freigabe der Spezifikation bieten einige Open Source Virtualisierungstechnologien wie qemu, Xen oder VirtualBox die Möglichkeit dieses Format zu verwenden. \cite{msosp} \cite{vhdspec}

\subsection{Vorteile}
\begin{itemize}
 \item einfache Einrichtung
\end{itemize}

\subsection{Nachteile}
\begin{itemize}
 \item Weiterentwicklung ist fragwürdig
\end{itemize}

\section{dm-snapshots}
Die dm-snapshots sind eine Funktion des Device Mappers. Device Mapper ist ein Treiber im Linux-Kernel. Er erstellt virtuelle Gerätedateien, die mit bestimmten Features wie zum Beispiel Verschlüsselung ausgestattet sind. Bei dm-snapshots wird eine solche virtuelle Gerätedatei erstellt. Sie wird aus zwei anderen Gerätedateien zusammengesetzt. Die erste Gerätedatei ist der Ausgangspunkt, wenn an daran Änderungen vorgenommen werden, werden sie als Differenz in der zweiten Gerätedatei gespeichert. \cite{dmmbroz} \cite{dmkerneldoc}

\subsection{Vorteile}
\begin{itemize}
 \item hohes Entwicklungsstadium
 \item garantierte Weiterentwicklung
\end{itemize}

\subsection{Nachteile}
\begin{itemize}
 \item Aufwendige Einrichtung
\end{itemize}

\section{LVM-Snapshots}
LVM-Snapshots sind ein Teil des Logical Volume Managers. LVM ist eine Software-Schicht die über den eigentlichen Hardware-Festplatten einzuordnen ist. Es basiert auf Device Mapper. Mit LVM ist es möglich virtuelle Partitionen (logical volumes) anzulegen. Diese können sich über mehrere Festplatten-Partitionen erstrecken und Funktionen wie Copy on Write besitzen. \cite{lvmhowto} \cite{lvmselflinux} \cite{lvmsource}

\subsection{Vorteile}
\begin{itemize}
 \item hohes Entwicklungsstadium
 \item garantierte Weiterentwicklung
\end{itemize}

\subsection{Nachteile}
\begin{itemize}
 \item Aufwendige Einrichtung
 \item Migration schwierig
 \item Live-Migration nicht möglich
\end{itemize}
